<section class="header">
  <section class="header-container">
      <div class="header-component-left">
        <a href="/"><img class="logo" src='https://www.trzcacak.rs/myfile/full/168-1685213_marijuana-order-online-marijuana-buds.png' alt="Logo"/></a>
      </div>
      <div class="header-component-right">
        <a href="/auth/logout">
          <button class="reset">Logout</button>
        </a>
        <a href="/user">
          <button>Profile</button>
        </a>
        <p>Level: {{user.level}}</p>
      </div>
</section>
</section>

<div class="profile-wrapper">
<div class="article-list-container">
  <p class="list-header">Full Course Overview</p>
  <hr>
  <ol class="articleList">
    {{#each openArticles}}
      <a href="/article/{{this.level}}/{{this.article}}"><li class="click"><span>level {{this.level}}. {{this.title}}</span></li></a>
    {{/each}}
    {{#each closedArticles}}
      <li class="nonClick"><span>Finish curriculem to unlock this article</span>level {{this.level}}. {{this.title}}</li>
    {{/each}}
  </ol>
</div>
<div class="profile-container">
  <div class="content">
    <h1>Hello {{user.username}}</h1>
<h3>Your current level is: {{user.level}}</h3>
{{#if message}}
  <h3>Oeps something whent wrong here</h3>
{{/if}}
<div class="buttons">
{{#if notBeginner}}
<a href="/user/reset"><button class="reset">Reset Course</button></a>
{{/if}}
<a href="/plant/{{user.level}}"><button class="start">Start Course</button></a>
</div>
  </div>
  <div class="canvas-wrapper">
  <canvas id="myChart"></canvas>
</div>
</div>
</div>

{{log this}}
<script>
  const labels = JSON.parse(decodeURI("{{values}}"));
  const data = JSON.parse(decodeURI("{{keys}}"));

  console.log(labels, data)

    var ctx = document.getElementById('myChart').getContext('2d');

    var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: labels,
        datasets: [{
            label: 'Number of Articles Read',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: data
        }]
    },

    // Configuration options go here
    options: {}
});
  </script>

